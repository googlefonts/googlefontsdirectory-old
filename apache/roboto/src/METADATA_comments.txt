# NOTE: When Google Fonts updates these fonts, the 
# Android style guide page should also have its zipped
# copies of Roboto fonts updated to match

# clear the old files \
rm *.menu *.latin* *.cyrillic* *.greek* *.vietn* *.nam *.log; \
# set present working directory \
cd ~/googlefontdirectory/apache/roboto; \
# for each font \
for font in `ls -1 $family/*ttf | cut -d. -f1`; do \
# basic subsets \
    for subset in \
          latin \
          cyrillic \
          greek \
          vietnamese ; do \
      pyftsubset $font.ttf \
        $(<~/src/googlefontdirectory/tools/encodings/unicodes-latin.txt) \
        $(<~/src/googlefontdirectory/tools/encodings/unicodes-$subset-gwf.txt) \
        --layout-features='' --glyph-names --symbol-cmap --legacy-cmap \
        --notdef-glyph --notdef-outline --recommended-glyphs \
        --name-IDs='*' --name-legacy --name-languages='*' \
        --hinting; \
      mv $font.ttf.subset $font.$subset; \
    done; \
# ext subsets
      for subset in \
            latin-ext \
            cyrillic-ext \
            greek-ext ; do \
        pyftsubset $font.ttf \
          $(<~/src/googlefontdirectory/tools/encodings/unicodes-latin.txt) \
          $(<~/src/googlefontdirectory/tools/encodings/unicodes-$subset-gwf.txt) \
          --layout-features='' --glyph-names --symbol-cmap --legacy-cmap \
          --notdef-glyph --notdef-outline --recommended-glyphs \
          --name-IDs='*' --name-legacy --name-languages='*' \
          --hinting; \
        mv $font.ttf.subset $font.$subset; \
      done; \

# menu subsets \
      pyftsubset $font.ttf \
        # chars of name \
        
        $(<~/src/googlefontdirectory/tools/encodings/unicodes-$subset-menu.txt) \
        --layout-features='' --glyph-names --symbol-cmap --legacy-cmap \
        --notdef-glyph --notdef-outline --recommended-glyphs \
        --name-IDs='*' --name-legacy --name-languages='*' \
        --hinting; \
      mv $font.ttf.subset $font.$subset; \

done; \
